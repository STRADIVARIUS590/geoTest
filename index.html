<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>GeoAR.js demo</title>
    <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-look-at-component@0.8.0/dist/aframe-look-at-component.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script>
  </head>

  <body>
    <a-scene
      vr-mode-ui="enabled: false"
      arjs="sourceType: webcam; videoTexture: true; debugUIEnabled: false;"
    >
      <a-text id="a"
       
        look-at="[gps-camera]"
        scale="200 200 0"
        position="-1300 0 -900"
   
      ></a-text>
      <a-camera gps-camera rotation-reader> </a-camera>
    </a-scene>
  </body>

  <script>
function changee(v){
  console.log(v);

 }


 let places =  [
  {
      'lat' : '32.5156864',
      'long' : '-116.9850368',
      'schedule' :  'aaaaaaaaasadas\nasdasdadasdasd\nasdasdasdasdasda\nsdasdasdasdadsasd'
    
  },

 {
    'lat' : '24.1026992',
    'long' : '-110.3161486',
    'schedule' :  'GGGGGGGGGGG\nasdasdadasdasd\nasdasdasdasdasda\nsdasdasdasdadsasd'
 }
];


//      gps-entity-place="latitude:32.5156864; longitude: -116.9850368;"
    
    // foursquare api key fsq3kpFy8+6h3c3BWjsvPCJJFBs6aWjUW39dmjGFJ7FNIAE=

      setInterval(() => {

        navigator.geolocation.getCurrentPosition((position) => {
        console.log(position.coords.latitude); 
        console.log(position.coords.longitude)

        let latitude = position.coords.latitude;
        let longitude = position.coords.longitude



        let frame = document.getElementById('a');

        places.forEach(place => {
          let lugar =  JSON.parse(JSON.stringify(place))

          if (lugar.lat == latitude && lugar.long == longitude){
            console.log('alavergaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa');
            frame.setAttribute('gps-entity-place',`latitude: ${lugar.lat}; longitude: ${lugar.long};` );
            frame.setAttribute('value', lugar.schedule);
          }
        });
        // frame.setAttribute('gps-entity-place',`latitude: ${lat}; longitude: ${long};` );
        console.log(document.getElementById('a'));
      
      
      // console.log('longitud '. position.coords.longitude); 
      }, (error) => {
        console.log(error);
      }, {enableHighAccuracy: true});

    }, 1000);
  </script>
</html>